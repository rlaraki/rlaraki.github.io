

const lineChart = britecharts.line();
const chartTooltip = britecharts.tooltip();

var map_container_svg = document.getElementById('map_container_svg');
const width = map_container_svg.offsetWidth;

var casesData = [{topicName: "France", name: 1, date: "2020-01-24T00:00:00", value: 2.0}, {topicName: "France", name: 1, date: "2020-01-25T00:00:00", value: 3.0}, {topicName: "France", name: 1, date: "2020-01-26T00:00:00", value: 3.0}, {topicName: "France", name: 1, date: "2020-01-27T00:00:00", value: 3.0}, {topicName: "France", name: 1, date: "2020-01-28T00:00:00", value: 4.0}, {topicName: "France", name: 1, date: "2020-01-29T00:00:00", value: 5.0}, {topicName: "France", name: 1, date: "2020-01-30T00:00:00", value: 5.0}, {topicName: "France", name: 1, date: "2020-01-31T00:00:00", value: 5.0}, {topicName: "France", name: 1, date: "2020-02-01T00:00:00", value: 12.0}, {topicName: "France", name: 1, date: "2020-02-08T00:00:00", value: 11.0}, {topicName: "France", name: 1, date: "2020-02-12T00:00:00", value: 11.0}, {topicName: "France", name: 1, date: "2020-02-15T00:00:00", value: 12.0}, {topicName: "France", name: 1, date: "2020-02-25T00:00:00", value: 14.0}, {topicName: "France", name: 1, date: "2020-02-26T00:00:00", value: 18.0}, {topicName: "France", name: 1, date: "2020-02-27T00:00:00", value: 38.0}, {topicName: "France", name: 1, date: "2020-02-28T00:00:00", value: 57.0}, {topicName: "France", name: 1, date: "2020-02-29T00:00:00", value: 100.0}, {topicName: "France", name: 1, date: "2020-03-01T00:00:00", value: 130.0}, {topicName: "France", name: 1, date: "2020-03-02T00:00:00", value: 191.0}, {topicName: "France", name: 1, date: "2020-03-03T00:00:00", value: 204.0}, {topicName: "France", name: 1, date: "2020-03-04T00:00:00", value: 285.0}, {topicName: "France", name: 1, date: "2020-03-05T00:00:00", value: 377.0}, {topicName: "France", name: 1, date: "2020-03-06T00:00:00", value: 653.0}, {topicName: "France", name: 1, date: "2020-03-07T00:00:00", value: 949.0}, {topicName: "France", name: 1, date: "2020-03-08T00:00:00", value: 1126.0}, {topicName: "France", name: 1, date: "2020-03-09T00:00:00", value: 1209.0}, {topicName: "France", name: 1, date: "2020-03-10T00:00:00", value: 1784.0}, {topicName: "France", name: 1, date: "2020-03-11T00:00:00", value: 5951.0}, {topicName: "France", name: 1, date: "2020-03-14T00:00:00", value: 4481.0}, {topicName: "France", name: 1, date: "2020-03-15T00:00:00", value: 4509.0}, {topicName: "France", name: 1, date: "2020-03-16T00:00:00", value: 6645.0}, {topicName: "France", name: 1, date: "2020-03-17T00:00:00", value: 7674.0}, {topicName: "France", name: 1, date: "2020-03-18T00:00:00", value: 9046.0}, {topicName: "France", name: 1, date: "2020-03-19T00:00:00", value: 10883.0}, {topicName: "France", name: 1, date: "2020-03-20T00:00:00", value: 12623.0}, {topicName: "France", name: 1, date: "2020-03-21T00:00:00", value: 14301.0}, {topicName: "France", name: 1, date: "2020-03-22T00:00:00", value: 16214.0}, {topicName: "France", name: 1, date: "2020-03-23T00:00:00", value: 20123.0}, {topicName: "France", name: 1, date: "2020-03-24T00:00:00", value: 22622.0}, {topicName: "France", name: 1, date: "2020-03-25T00:00:00", value: 25600.0}, {topicName: "France", name: 1, date: "2020-03-26T00:00:00", value: 29551.0}, {topicName: "France", name: 1, date: "2020-03-27T00:00:00", value: 33402.0}, {topicName: "France", name: 1, date: "2020-03-28T00:00:00", value: 38105.0}, {topicName: "France", name: 1, date: "2020-03-29T00:00:00", value: 40708.0}, {topicName: "France", name: 1, date: "2020-03-30T00:00:00", value: 45170.0}, {topicName: "France", name: 1, date: "2020-03-31T00:00:00", value: 52827.0}, {topicName: "France", name: 1, date: "2020-04-01T00:00:00", value: 57749.0}, {topicName: "France", name: 1, date: "2020-04-02T00:00:00", value: 59929.0}, {topicName: "France", name: 1, date: "2020-04-03T00:00:00", value: 65202.0}, {topicName: "France", name: 1, date: "2020-04-04T00:00:00", value: 90848.0}, {topicName: "France", name: 1, date: "2020-04-05T00:00:00", value: 93773.0}, {topicName: "France", name: 1, date: "2020-04-06T00:00:00", value: 98963.0}, {topicName: "France", name: 1, date: "2020-04-07T00:00:00", value: 110065.0}, {topicName: "France", name: 1, date: "2020-04-08T00:00:00", value: 113959.0}, {topicName: "France", name: 1, date: "2020-04-09T00:00:00", value: 118781.0}, {topicName: "France", name: 1, date: "2020-04-10T00:00:00", value: 125931.0}, {topicName: "France", name: 1, date: "2020-04-11T00:00:00", value: 130727.0}, {topicName: "France", name: 1, date: "2020-04-12T00:00:00", value: 133670.0}, {topicName: "France", name: 1, date: "2020-04-13T00:00:00", value: 137875.0}, {topicName: "France", name: 1, date: "2020-04-14T00:00:00", value: 131361.0}, {topicName: "France", name: 1, date: "2020-04-15T00:00:00", value: 134582.0}, {topicName: "France", name: 1, date: "2020-04-16T00:00:00", value: 147091.0}, {topicName: "France", name: 1, date: "2020-04-17T00:00:00", value: 149130.0}, {topicName: "France", name: 1, date: "2020-04-18T00:00:00", value: 149149.0}, {topicName: "France", name: 1, date: "2020-04-19T00:00:00", value: 154097.0}, {topicName: "France", name: 1, date: "2020-04-20T00:00:00", value: 156480.0}, {topicName: "France", name: 1, date: "2020-04-21T00:00:00", value: 159297.0}, {topicName: "France", name: 1, date: "2020-04-22T00:00:00", value: 157125.0}, {topicName: "France", name: 1, date: "2020-04-24T00:00:00", value: 159460.0}, {topicName: "France", name: 1, date: "2020-04-25T00:00:00", value: 159952.0}, {topicName: "France", name: 1, date: "2020-04-26T00:00:00", value: 161644.0}, {topicName: "France", name: 1, date: "2020-04-27T00:00:00", value: 162220.0}, {topicName: "France", name: 1, date: "2020-04-28T00:00:00", value: 165963.0}, {topicName: "France", name: 1, date: "2020-04-29T00:00:00", value: 169053.0}, {topicName: "France", name: 1, date: "2020-04-30T00:00:00", value: 166543.0}, {topicName: "Germany", name: 2, date: "2020-01-28T00:00:00", value: 4.0}, {topicName: "Germany", name: 2, date: "2020-01-29T00:00:00", value: 4.0}, {topicName: "Germany", name: 2, date: "2020-01-30T00:00:00", value: 4.0}, {topicName: "Germany", name: 2, date: "2020-01-31T00:00:00", value: 5.0}, {topicName: "Germany", name: 2, date: "2020-02-01T00:00:00", value: 8.0}, {topicName: "Germany", name: 2, date: "2020-02-02T00:00:00", value: 10.0}, {topicName: "Germany", name: 2, date: "2020-02-03T00:00:00", value: 12.0}, {topicName: "Germany", name: 2, date: "2020-02-07T00:00:00", value: 13.0}, {topicName: "Germany", name: 2, date: "2020-02-09T00:00:00", value: 14.0}, {topicName: "Germany", name: 2, date: "2020-02-11T00:00:00", value: 16.0}, {topicName: "Germany", name: 2, date: "2020-02-13T00:00:00", value: 16.0}, {topicName: "Germany", name: 2, date: "2020-02-18T00:00:00", value: 16.0}, {topicName: "Germany", name: 2, date: "2020-02-21T00:00:00", value: 16.0}, {topicName: "Germany", name: 2, date: "2020-02-25T00:00:00", value: 17.0}, {topicName: "Germany", name: 2, date: "2020-02-26T00:00:00", value: 27.0}, {topicName: "Germany", name: 2, date: "2020-02-27T00:00:00", value: 46.0}, {topicName: "Germany", name: 2, date: "2020-02-28T00:00:00", value: 48.0}, {topicName: "Germany", name: 2, date: "2020-02-29T00:00:00", value: 79.0}, {topicName: "Germany", name: 2, date: "2020-03-01T00:00:00", value: 130.0}, {topicName: "Germany", name: 2, date: "2020-03-02T00:00:00", value: 159.0}, {topicName: "Germany", name: 2, date: "2020-03-03T00:00:00", value: 196.0}, {topicName: "Germany", name: 2, date: "2020-03-04T00:00:00", value: 262.0}, {topicName: "Germany", name: 2, date: "2020-03-05T00:00:00", value: 482.0}, {topicName: "Germany", name: 2, date: "2020-03-06T00:00:00", value: 670.0}, {topicName: "Germany", name: 2, date: "2020-03-07T00:00:00", value: 799.0}, {topicName: "Germany", name: 2, date: "2020-03-08T00:00:00", value: 1040.0}, {topicName: "Germany", name: 2, date: "2020-03-09T00:00:00", value: 1176.0}, {topicName: "Germany", name: 2, date: "2020-03-10T00:00:00", value: 1457.0}, {topicName: "Germany", name: 2, date: "2020-03-11T00:00:00", value: 5583.0}, {topicName: "Germany", name: 2, date: "2020-03-12T00:00:00", value: 2078.0}, {topicName: "Germany", name: 2, date: "2020-03-14T00:00:00", value: 4585.0}, {topicName: "Germany", name: 2, date: "2020-03-15T00:00:00", value: 5795.0}, {topicName: "Germany", name: 2, date: "2020-03-16T00:00:00", value: 7272.0}, {topicName: "Germany", name: 2, date: "2020-03-17T00:00:00", value: 9257.0}, {topicName: "Germany", name: 2, date: "2020-03-18T00:00:00", value: 12327.0}, {topicName: "Germany", name: 2, date: "2020-03-19T00:00:00", value: 15320.0}, {topicName: "Germany", name: 2, date: "2020-03-20T00:00:00", value: 19848.0}, {topicName: "Germany", name: 2, date: "2020-03-21T00:00:00", value: 22213.0}, {topicName: "Germany", name: 2, date: "2020-03-22T00:00:00", value: 24873.0}, {topicName: "Germany", name: 2, date: "2020-03-23T00:00:00", value: 29056.0}, {topicName: "Germany", name: 2, date: "2020-03-24T00:00:00", value: 32986.0}, {topicName: "Germany", name: 2, date: "2020-03-25T00:00:00", value: 37323.0}, {topicName: "Germany", name: 2, date: "2020-03-26T00:00:00", value: 43938.0}, {topicName: "Germany", name: 2, date: "2020-03-27T00:00:00", value: 50871.0}, {topicName: "Germany", name: 2, date: "2020-03-28T00:00:00", value: 57695.0}, {topicName: "Germany", name: 2, date: "2020-03-29T00:00:00", value: 62095.0}, {topicName: "Germany", name: 2, date: "2020-03-30T00:00:00", value: 66885.0}, {topicName: "Germany", name: 2, date: "2020-03-31T00:00:00", value: 71808.0}, {topicName: "Germany", name: 2, date: "2020-04-01T00:00:00", value: 77872.0}, {topicName: "Germany", name: 2, date: "2020-04-02T00:00:00", value: 84794.0}, {topicName: "Germany", name: 2, date: "2020-04-03T00:00:00", value: 91159.0}, {topicName: "Germany", name: 2, date: "2020-04-04T00:00:00", value: 96092.0}, {topicName: "Germany", name: 2, date: "2020-04-05T00:00:00", value: 100123.0}, {topicName: "Germany", name: 2, date: "2020-04-06T00:00:00", value: 103374.0}, {topicName: "Germany", name: 2, date: "2020-04-07T00:00:00", value: 107663.0}, {topicName: "Germany", name: 2, date: "2020-04-08T00:00:00", value: 113296.0}, {topicName: "Germany", name: 2, date: "2020-04-09T00:00:00", value: 118181.0}, {topicName: "Germany", name: 2, date: "2020-04-10T00:00:00", value: 122171.0}, {topicName: "Germany", name: 2, date: "2020-04-11T00:00:00", value: 124908.0}, {topicName: "Germany", name: 2, date: "2020-04-12T00:00:00", value: 127854.0}, {topicName: "Germany", name: 2, date: "2020-04-13T00:00:00", value: 130072.0}, {topicName: "Germany", name: 2, date: "2020-04-14T00:00:00", value: 131359.0}, {topicName: "Germany", name: 2, date: "2020-04-15T00:00:00", value: 134753.0}, {topicName: "Germany", name: 2, date: "2020-04-16T00:00:00", value: 137698.0}, {topicName: "Germany", name: 2, date: "2020-04-17T00:00:00", value: 141397.0}, {topicName: "Germany", name: 2, date: "2020-04-18T00:00:00", value: 143342.0}, {topicName: "Germany", name: 2, date: "2020-04-19T00:00:00", value: 145184.0}, {topicName: "Germany", name: 2, date: "2020-04-20T00:00:00", value: 147065.0}, {topicName: "Germany", name: 2, date: "2020-04-21T00:00:00", value: 148291.0}, {topicName: "Germany", name: 2, date: "2020-04-22T00:00:00", value: 150648.0}, {topicName: "Germany", name: 2, date: "2020-04-24T00:00:00", value: 153129.0}, {topicName: "Germany", name: 2, date: "2020-04-25T00:00:00", value: 154999.0}, {topicName: "Germany", name: 2, date: "2020-04-26T00:00:00", value: 156513.0}, {topicName: "Germany", name: 2, date: "2020-04-27T00:00:00", value: 157770.0}, {topicName: "Germany", name: 2, date: "2020-04-28T00:00:00", value: 158758.0}, {topicName: "Germany", name: 2, date: "2020-04-29T00:00:00", value: 159912.0}, {topicName: "Germany", name: 2, date: "2020-04-30T00:00:00", value: 161539.0}, {topicName: "Italy", name: 3, date: "2020-01-31T00:00:00", value: 6.0}, {topicName: "Italy", name: 3, date: "2020-02-07T00:00:00", value: 3.0}, {topicName: "Italy", name: 3, date: "2020-02-21T00:00:00", value: 20.0}, {topicName: "Italy", name: 3, date: "2020-02-22T00:00:00", value: 62.0}, {topicName: "Italy", name: 3, date: "2020-02-23T00:00:00", value: 155.0}, {topicName: "Italy", name: 3, date: "2020-02-24T00:00:00", value: 229.0}, {topicName: "Italy", name: 3, date: "2020-02-25T00:00:00", value: 322.0}, {topicName: "Italy", name: 3, date: "2020-02-26T00:00:00", value: 453.0}, {topicName: "Italy", name: 3, date: "2020-02-27T00:00:00", value: 655.0}, {topicName: "Italy", name: 3, date: "2020-02-28T00:00:00", value: 888.0}, {topicName: "Italy", name: 3, date: "2020-02-29T00:00:00", value: 1128.0}, {topicName: "Italy", name: 3, date: "2020-03-01T00:00:00", value: 1694.0}, {topicName: "Italy", name: 3, date: "2020-03-02T00:00:00", value: 2036.0}, {topicName: "Italy", name: 3, date: "2020-03-03T00:00:00", value: 2502.0}, {topicName: "Italy", name: 3, date: "2020-03-04T00:00:00", value: 3089.0}, {topicName: "Italy", name: 3, date: "2020-03-05T00:00:00", value: 3858.0}, {topicName: "Italy", name: 3, date: "2020-03-06T00:00:00", value: 4636.0}, {topicName: "Italy", name: 3, date: "2020-03-07T00:00:00", value: 5883.0}, {topicName: "Italy", name: 3, date: "2020-03-08T00:00:00", value: 7375.0}, {topicName: "Italy", name: 3, date: "2020-03-09T00:00:00", value: 9172.0}, {topicName: "Italy", name: 3, date: "2020-03-10T00:00:00", value: 10149.0}, {topicName: "Italy", name: 3, date: "2020-03-11T00:00:00", value: 30122.0}, {topicName: "Italy", name: 3, date: "2020-03-14T00:00:00", value: 45904.0}, {topicName: "Italy", name: 3, date: "2020-03-16T00:00:00", value: 27980.0}, {topicName: "Italy", name: 3, date: "2020-03-17T00:00:00", value: 31506.0}, {topicName: "Italy", name: 3, date: "2020-03-18T00:00:00", value: 35713.0}, {topicName: "Italy", name: 3, date: "2020-03-19T00:00:00", value: 41035.0}, {topicName: "Italy", name: 3, date: "2020-03-20T00:00:00", value: 47021.0}, {topicName: "Italy", name: 3, date: "2020-03-21T00:00:00", value: 53578.0}, {topicName: "Italy", name: 3, date: "2020-03-22T00:00:00", value: 59138.0}, {topicName: "Italy", name: 3, date: "2020-03-23T00:00:00", value: 63927.0}, {topicName: "Italy", name: 3, date: "2020-03-24T00:00:00", value: 69176.0}, {topicName: "Italy", name: 3, date: "2020-03-25T00:00:00", value: 74386.0}, {topicName: "Italy", name: 3, date: "2020-03-26T00:00:00", value: 80589.0}, {topicName: "Italy", name: 3, date: "2020-03-27T00:00:00", value: 86498.0}, {topicName: "Italy", name: 3, date: "2020-03-28T00:00:00", value: 92472.0}, {topicName: "Italy", name: 3, date: "2020-03-29T00:00:00", value: 97689.0}, {topicName: "Italy", name: 3, date: "2020-03-30T00:00:00", value: 101739.0}, {topicName: "Italy", name: 3, date: "2020-03-31T00:00:00", value: 105792.0}, {topicName: "Italy", name: 3, date: "2020-04-01T00:00:00", value: 110574.0}, {topicName: "Italy", name: 3, date: "2020-04-02T00:00:00", value: 115242.0}, {topicName: "Italy", name: 3, date: "2020-04-03T00:00:00", value: 119827.0}, {topicName: "Italy", name: 3, date: "2020-04-04T00:00:00", value: 124632.0}, {topicName: "Italy", name: 3, date: "2020-04-05T00:00:00", value: 128948.0}, {topicName: "Italy", name: 3, date: "2020-04-06T00:00:00", value: 132547.0}, {topicName: "Italy", name: 3, date: "2020-04-07T00:00:00", value: 135586.0}, {topicName: "Italy", name: 3, date: "2020-04-08T00:00:00", value: 139422.0}, {topicName: "Italy", name: 3, date: "2020-04-09T00:00:00", value: 143626.0}, {topicName: "Italy", name: 3, date: "2020-04-10T00:00:00", value: 147577.0}, {topicName: "Italy", name: 3, date: "2020-04-11T00:00:00", value: 152271.0}, {topicName: "Italy", name: 3, date: "2020-04-12T00:00:00", value: 156363.0}, {topicName: "Italy", name: 3, date: "2020-04-13T00:00:00", value: 159516.0}, {topicName: "Italy", name: 3, date: "2020-04-14T00:00:00", value: 162488.0}, {topicName: "Italy", name: 3, date: "2020-04-15T00:00:00", value: 165155.0}, {topicName: "Italy", name: 3, date: "2020-04-16T00:00:00", value: 168941.0}, {topicName: "Italy", name: 3, date: "2020-04-17T00:00:00", value: 172434.0}, {topicName: "Italy", name: 3, date: "2020-04-18T00:00:00", value: 175925.0}, {topicName: "Italy", name: 3, date: "2020-04-19T00:00:00", value: 178972.0}, {topicName: "Italy", name: 3, date: "2020-04-20T00:00:00", value: 181228.0}, {topicName: "Italy", name: 3, date: "2020-04-21T00:00:00", value: 183957.0}, {topicName: "Italy", name: 3, date: "2020-04-22T00:00:00", value: 187327.0}, {topicName: "Italy", name: 3, date: "2020-04-24T00:00:00", value: 189973.0}, {topicName: "Italy", name: 3, date: "2020-04-25T00:00:00", value: 192994.0}, {topicName: "Italy", name: 3, date: "2020-04-26T00:00:00", value: 195351.0}, {topicName: "Italy", name: 3, date: "2020-04-27T00:00:00", value: 197675.0}, {topicName: "Italy", name: 3, date: "2020-04-28T00:00:00", value: 199414.0}, {topicName: "Italy", name: 3, date: "2020-04-29T00:00:00", value: 201505.0}, {topicName: "Italy", name: 3, date: "2020-04-30T00:00:00", value: 203591.0}, {topicName: "Switzerland", name: 4, date: "2020-02-25T00:00:00", value: 1.0}, {topicName: "Switzerland", name: 4, date: "2020-02-27T00:00:00", value: 8.0}, {topicName: "Switzerland", name: 4, date: "2020-02-29T00:00:00", value: 18.0}, {topicName: "Switzerland", name: 4, date: "2020-03-01T00:00:00", value: 27.0}, {topicName: "Switzerland", name: 4, date: "2020-03-02T00:00:00", value: 42.0}, {topicName: "Switzerland", name: 4, date: "2020-03-03T00:00:00", value: 56.0}, {topicName: "Switzerland", name: 4, date: "2020-03-04T00:00:00", value: 90.0}, {topicName: "Switzerland", name: 4, date: "2020-03-05T00:00:00", value: 114.0}, {topicName: "Switzerland", name: 4, date: "2020-03-06T00:00:00", value: 214.0}, {topicName: "Switzerland", name: 4, date: "2020-03-07T00:00:00", value: 268.0}, {topicName: "Switzerland", name: 4, date: "2020-03-08T00:00:00", value: 337.0}, {topicName: "Switzerland", name: 4, date: "2020-03-09T00:00:00", value: 374.0}, {topicName: "Switzerland", name: 4, date: "2020-03-10T00:00:00", value: 491.0}, {topicName: "Switzerland", name: 4, date: "2020-03-11T00:00:00", value: 1791.0}, {topicName: "Switzerland", name: 4, date: "2020-03-14T00:00:00", value: 1359.0}, {topicName: "Switzerland", name: 4, date: "2020-03-15T00:00:00", value: 2200.0}, {topicName: "Switzerland", name: 4, date: "2020-03-17T00:00:00", value: 2700.0}, {topicName: "Switzerland", name: 4, date: "2020-03-18T00:00:00", value: 3028.0}, {topicName: "Switzerland", name: 4, date: "2020-03-19T00:00:00", value: 4075.0}, {topicName: "Switzerland", name: 4, date: "2020-03-20T00:00:00", value: 5294.0}, {topicName: "Switzerland", name: 4, date: "2020-03-21T00:00:00", value: 6575.0}, {topicName: "Switzerland", name: 4, date: "2020-03-22T00:00:00", value: 7474.0}, {topicName: "Switzerland", name: 4, date: "2020-03-23T00:00:00", value: 8795.0}, {topicName: "Switzerland", name: 4, date: "2020-03-24T00:00:00", value: 9877.0}, {topicName: "Switzerland", name: 4, date: "2020-03-25T00:00:00", value: 10897.0}, {topicName: "Switzerland", name: 4, date: "2020-03-26T00:00:00", value: 11811.0}, {topicName: "Switzerland", name: 4, date: "2020-03-27T00:00:00", value: 12928.0}, {topicName: "Switzerland", name: 4, date: "2020-03-28T00:00:00", value: 14076.0}, {topicName: "Switzerland", name: 4, date: "2020-03-29T00:00:00", value: 14829.0}, {topicName: "Switzerland", name: 4, date: "2020-03-30T00:00:00", value: 15922.0}, {topicName: "Switzerland", name: 4, date: "2020-03-31T00:00:00", value: 16605.0}, {topicName: "Switzerland", name: 4, date: "2020-04-01T00:00:00", value: 17768.0}, {topicName: "Switzerland", name: 4, date: "2020-04-02T00:00:00", value: 18827.0}, {topicName: "Switzerland", name: 4, date: "2020-04-03T00:00:00", value: 19606.0}, {topicName: "Switzerland", name: 4, date: "2020-04-04T00:00:00", value: 20505.0}, {topicName: "Switzerland", name: 4, date: "2020-04-05T00:00:00", value: 21100.0}, {topicName: "Switzerland", name: 4, date: "2020-04-06T00:00:00", value: 21657.0}, {topicName: "Switzerland", name: 4, date: "2020-04-07T00:00:00", value: 22253.0}, {topicName: "Switzerland", name: 4, date: "2020-04-08T00:00:00", value: 23280.0}, {topicName: "Switzerland", name: 4, date: "2020-04-09T00:00:00", value: 24051.0}, {topicName: "Switzerland", name: 4, date: "2020-04-10T00:00:00", value: 24551.0}, {topicName: "Switzerland", name: 4, date: "2020-04-11T00:00:00", value: 25107.0}, {topicName: "Switzerland", name: 4, date: "2020-04-12T00:00:00", value: 25415.0}, {topicName: "Switzerland", name: 4, date: "2020-04-13T00:00:00", value: 25688.0}, {topicName: "Switzerland", name: 4, date: "2020-04-14T00:00:00", value: 25936.0}, {topicName: "Switzerland", name: 4, date: "2020-04-15T00:00:00", value: 26336.0}, {topicName: "Switzerland", name: 4, date: "2020-04-16T00:00:00", value: 26732.0}, {topicName: "Switzerland", name: 4, date: "2020-04-17T00:00:00", value: 27078.0}, {topicName: "Switzerland", name: 4, date: "2020-04-18T00:00:00", value: 27404.0}, {topicName: "Switzerland", name: 4, date: "2020-04-19T00:00:00", value: 27740.0}, {topicName: "Switzerland", name: 4, date: "2020-04-20T00:00:00", value: 27944.0}, {topicName: "Switzerland", name: 4, date: "2020-04-21T00:00:00", value: 28063.0}, {topicName: "Switzerland", name: 4, date: "2020-04-22T00:00:00", value: 28268.0}, {topicName: "Switzerland", name: 4, date: "2020-04-24T00:00:00", value: 28496.0}, {topicName: "Switzerland", name: 4, date: "2020-04-25T00:00:00", value: 28677.0}, {topicName: "Switzerland", name: 4, date: "2020-04-26T00:00:00", value: 28894.0}, {topicName: "Switzerland", name: 4, date: "2020-04-27T00:00:00", value: 29061.0}, {topicName: "Switzerland", name: 4, date: "2020-04-28T00:00:00", value: 29164.0}, {topicName: "Switzerland", name: 4, date: "2020-04-29T00:00:00", value: 29264.0}, {topicName: "Switzerland", name: 4, date: "2020-04-30T00:00:00", value: 29407.0}, {topicName: "US", name: 5, date: "2020-01-22T00:00:00", value: 1.0}, {topicName: "US", name: 5, date: "2020-01-23T00:00:00", value: 1.0}, {topicName: "US", name: 5, date: "2020-01-24T00:00:00", value: 2.0}, {topicName: "US", name: 5, date: "2020-01-25T00:00:00", value: 2.0}, {topicName: "US", name: 5, date: "2020-01-26T00:00:00", value: 5.0}, {topicName: "US", name: 5, date: "2020-01-27T00:00:00", value: 5.0}, {topicName: "US", name: 5, date: "2020-01-28T00:00:00", value: 5.0}, {topicName: "US", name: 5, date: "2020-01-29T00:00:00", value: 5.0}, {topicName: "US", name: 5, date: "2020-01-30T00:00:00", value: 5.0}, {topicName: "US", name: 5, date: "2020-01-31T00:00:00", value: 6.0}, {topicName: "US", name: 5, date: "2020-02-01T00:00:00", value: 16.0}, {topicName: "US", name: 5, date: "2020-02-03T00:00:00", value: 4.0}, {topicName: "US", name: 5, date: "2020-02-05T00:00:00", value: 1.0}, {topicName: "US", name: 5, date: "2020-02-09T00:00:00", value: 3.0}, {topicName: "US", name: 5, date: "2020-02-11T00:00:00", value: 1.0}, {topicName: "US", name: 5, date: "2020-02-13T00:00:00", value: 3.0}, {topicName: "US", name: 5, date: "2020-02-21T00:00:00", value: 24.0}, {topicName: "US", name: 5, date: "2020-02-22T00:00:00", value: 18.0}, {topicName: "US", name: 5, date: "2020-02-24T00:00:00", value: 36.0}, {topicName: "US", name: 5, date: "2020-02-25T00:00:00", value: 37.0}, {topicName: "US", name: 5, date: "2020-02-26T00:00:00", value: 42.0}, {topicName: "US", name: 5, date: "2020-02-27T00:00:00", value: 2.0}, {topicName: "US", name: 5, date: "2020-02-28T00:00:00", value: 45.0}, {topicName: "US", name: 5, date: "2020-02-29T00:00:00", value: 11.0}, {topicName: "US", name: 5, date: "2020-03-01T00:00:00", value: 15.0}, {topicName: "US", name: 5, date: "2020-03-02T00:00:00", value: 88.0}, {topicName: "US", name: 5, date: "2020-03-03T00:00:00", value: 54.0}, {topicName: "US", name: 5, date: "2020-03-04T00:00:00", value: 62.0}, {topicName: "US", name: 5, date: "2020-03-05T00:00:00", value: 142.0}, {topicName: "US", name: 5, date: "2020-03-06T00:00:00", value: 168.0}, {topicName: "US", name: 5, date: "2020-03-07T00:00:00", value: 311.0}, {topicName: "US", name: 5, date: "2020-03-08T00:00:00", value: 387.0}, {topicName: "US", name: 5, date: "2020-03-09T00:00:00", value: 203.0}, {topicName: "US", name: 5, date: "2020-03-10T00:00:00", value: 959.0}, {topicName: "US", name: 5, date: "2020-03-11T00:00:00", value: 3379.0}, {topicName: "US", name: 5, date: "2020-03-12T00:00:00", value: 1554.0}, {topicName: "US", name: 5, date: "2020-03-13T00:00:00", value: 32.0}, {topicName: "US", name: 5, date: "2020-03-14T00:00:00", value: 3132.0}, {topicName: "US", name: 5, date: "2020-03-15T00:00:00", value: 2877.0}, {topicName: "US", name: 5, date: "2020-03-16T00:00:00", value: 4612.0}, {topicName: "US", name: 5, date: "2020-03-17T00:00:00", value: 6287.0}, {topicName: "US", name: 5, date: "2020-03-18T00:00:00", value: 7447.0}, {topicName: "US", name: 5, date: "2020-03-19T00:00:00", value: 13604.0}, {topicName: "US", name: 5, date: "2020-03-20T00:00:00", value: 19057.0}, {topicName: "US", name: 5, date: "2020-03-21T00:00:00", value: 25356.0}, {topicName: "US", name: 5, date: "2020-03-22T00:00:00", value: 33848.0}, {topicName: "US", name: 5, date: "2020-03-23T00:00:00", value: 43663.0}, {topicName: "US", name: 5, date: "2020-03-24T00:00:00", value: 53736.0}, {topicName: "US", name: 5, date: "2020-03-25T00:00:00", value: 65778.0}, {topicName: "US", name: 5, date: "2020-03-26T00:00:00", value: 83836.0}, {topicName: "US", name: 5, date: "2020-03-27T00:00:00", value: 101657.0}, {topicName: "US", name: 5, date: "2020-03-28T00:00:00", value: 121465.0}, {topicName: "US", name: 5, date: "2020-03-29T00:00:00", value: 140909.0}, {topicName: "US", name: 5, date: "2020-03-30T00:00:00", value: 161831.0}, {topicName: "US", name: 5, date: "2020-03-31T00:00:00", value: 188172.0}, {topicName: "US", name: 5, date: "2020-04-01T00:00:00", value: 213372.0}, {topicName: "US", name: 5, date: "2020-04-02T00:00:00", value: 243599.0}, {topicName: "US", name: 5, date: "2020-04-03T00:00:00", value: 275586.0}, {topicName: "US", name: 5, date: "2020-04-04T00:00:00", value: 308853.0}, {topicName: "US", name: 5, date: "2020-04-05T00:00:00", value: 337072.0}, {topicName: "US", name: 5, date: "2020-04-06T00:00:00", value: 366667.0}, {topicName: "US", name: 5, date: "2020-04-07T00:00:00", value: 396223.0}, {topicName: "US", name: 5, date: "2020-04-08T00:00:00", value: 429052.0}, {topicName: "US", name: 5, date: "2020-04-09T00:00:00", value: 461437.0}, {topicName: "US", name: 5, date: "2020-04-10T00:00:00", value: 496535.0}, {topicName: "US", name: 5, date: "2020-04-11T00:00:00", value: 526396.0}, {topicName: "US", name: 5, date: "2020-04-12T00:00:00", value: 555313.0}, {topicName: "US", name: 5, date: "2020-04-13T00:00:00", value: 580619.0}, {topicName: "US", name: 5, date: "2020-04-14T00:00:00", value: 607670.0}, {topicName: "US", name: 5, date: "2020-04-15T00:00:00", value: 636350.0}, {topicName: "US", name: 5, date: "2020-04-16T00:00:00", value: 667801.0}, {topicName: "US", name: 5, date: "2020-04-17T00:00:00", value: 699706.0}, {topicName: "US", name: 5, date: "2020-04-18T00:00:00", value: 732197.0}, {topicName: "US", name: 5, date: "2020-04-19T00:00:00", value: 759086.0}, {topicName: "US", name: 5, date: "2020-04-20T00:00:00", value: 784326.0}, {topicName: "US", name: 5, date: "2020-04-21T00:00:00", value: 811865.0}, {topicName: "US", name: 5, date: "2020-04-22T00:00:00", value: 957825.0}, {topicName: "US", name: 5, date: "2020-04-23T00:00:00", value: 133870.0}, {topicName: "US", name: 5, date: "2020-04-24T00:00:00", value: 878819.0}, {topicName: "US", name: 5, date: "2020-04-25T00:00:00", value: 914345.0}, {topicName: "US", name: 5, date: "2020-04-26T00:00:00", value: 942833.0}, {topicName: "US", name: 5, date: "2020-04-27T00:00:00", value: 836161.0}, {topicName: "US", name: 5, date: "2020-04-28T00:00:00", value: 843004.0}, {topicName: "US", name: 5, date: "2020-04-29T00:00:00", value: 1012582.0}, {topicName: "US", name: 5, date: "2020-04-30T00:00:00", value: 1039909.0}];

const container = d3.select('.right_scroll_plot').append("svg").attr("width", width)
.attr("height", 350);

lineChart
    .isAnimated(true)
    .aspectRatio(0.5)
    .grid('horizontal')
    .tooltipThreshold(600)
    .width(width)
    .dateLabel('fullDate')
    .on('customMouseOver', chartTooltip.show)
    .on('customMouseMove', chartTooltip.update)
    .on('customMouseOut', chartTooltip.hide);

container.datum(casesData).call(lineChart);
// Tooltip Setup and start
chartTooltip
    // In order to change the date range on the tooltip title, uncomment this line
    // .dateFormat(chartTooltip.axisTimeCombinations.HOUR .title('Quantity Sold')
    .topicsOrder(dataset.dataByTopic.map(function(topic) {
        return topic.topic;
    }));


//tooltipContainer = d3Selection.select('.js-line-chart-container .metadata-group .hover-marker');
//tooltipContainer.datum([]).call(chartTooltip);

const redrawChart = () => {
    const newContainerWidth = container.node() ? container.node().getBoundingClientRect().width : false;

    // Setting the new width on the chart
    barChart.width(newContainerWidth);

    // Rendering the chart again
    container.call(barChart);
};
const throttledRedraw = _.throttle(redrawChart, 200);

window.addEventListener("resize", throttledRedraw);
